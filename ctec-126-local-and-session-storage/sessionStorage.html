<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session Storage</title>
</head>

<body>
    <header>
        <h1>Using the Web Storage API</h1>
        <p>The Web Storage API provides mechanisms by which browsers can securely store key/value pairs.</p>
    </header>
    <main>
        <p>This article provides a walkthrough of how to make use of this technology.</p>
        <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API" title="Web Storage API">Learn more about the Web Storage API on the MDN</a>
        <h2>window.sessionStorage</h2>
        window.sessionStorage on MDN: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage">Window sessionStorage</a>

        <p>The sessionStorage property accesses a session Storage object for the current origin. sessionStorage is similar to localStorage; the difference is that while data in localStorage doesn't expire, data in sessionStorage is cleared when the page session ends.</p>

        <p>A page session lasts as long as the browser is open, and survives over page reloads and restores.</p>
        <ul>
            <li>Opening a page in a new tab or window creates a new session with the value of the top-level browsing context, which differs from how session cookies work.</li>
            <li>Opening multiple tabs/windows with the same URL creates sessionStorage for each tab/window.</li>
            <li>Closing a tab/window ends the session and clears objects in sessionStorage.</li>
        </ul>
    </main>
    <script>
        // Use .setItem() to store a key/value
        sessionStorage.setItem('myDog', 'Tucker');
        sessionStorage.setItem('kids', ['Alyssa', 'Brandon', 'Erin']);
        sessionStorage.setItem('deleteMe', 'I will be deleted');

        // read item and convert to an array using split()
        const kids = sessionStorage.getItem('kids').split(',');

        // log out items to the console
        console.log(`myDog: ${sessionStorage.getItem('myDog')}`);
        console.log(`kids: ${kids}`);

        // remove an item
        sessionStorage.removeItem('deleteMe');
        console.log(`deleteMe: ${sessionStorage.getItem('deleteMe')}`);

        // remove all items
        sessionStorage.clear();
        console.log(`myDog after clear: ${sessionStorage.getItem('myDog')}`)
    </script>
</body>

</html>